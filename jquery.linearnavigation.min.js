
(function($,window,document,undefined){var pluginName='jquery-linear-navigation';$.fn.linearNavigation=function linearNavigation(delegateEl,options){options=$.extend({activeIndex:0,clickable:true,clickDelegate:delegateEl,axis:'both',wrap:true},options);if($.data(delegateEl,pluginName)===undefined){var $collection=$(this);var numItems=$collection.length;var $delegateEl=$(delegateEl);var $clickDelegate=$(options.clickDelegate);var currentItemIndex=options.activeIndex;var updateModel=function(goToIndex){$delegateEl.trigger("linearNavigationChange",{fromIndex:currentItemIndex,toIndex:goToIndex});currentItemIndex=goToIndex;};var goToNextItem=function(e){var isOnLastEl=(currentItemIndex===jQuery.data(delegateEl,pluginName).length-1);var goToIndex;if(isOnLastEl){if(options.wrap===true){goToIndex=0;}}else{goToIndex=currentItemIndex+1;}
updateModel(goToIndex);};var goToPrevItem=function(e){var isOnFirstEl=(currentItemIndex===0||currentItemIndex===-1);var goToIndex;if(isOnFirstEl){if(options.wrap===true){goToIndex=jQuery.data(delegateEl,pluginName).length-1;}}else{goToIndex=currentItemIndex-1;}
updateModel(goToIndex);};if(currentItemIndex>=numItems){currentItemIndex=0;}
$delegateEl.commonKeyDown();if(options.axis==='x'){$delegateEl.on('leftArrowKeyDown',goToPrevItem);$delegateEl.on('rightArrowKeyDown',goToNextItem);}else if(options.axis==='y'){$delegateEl.on('upArrowKeyDown',goToPrevItem);$delegateEl.on('downArrowKeyDown',goToNextItem);}else{$delegateEl.on('leftArrowKeyDown upArrowKeyDown',goToPrevItem);$delegateEl.on('rightArrowKeyDown downArrowKeyDown',goToNextItem);}
$clickDelegate.on('click',function(e){updateModel($(e.target).data(pluginName).idx);});jQuery.data(delegateEl,pluginName,{installed:'true',length:numItems});}else{jQuery.data(delegateEl,pluginName).length=$(this).length;}
return this.each(function onEachMatchedEl(index){$(this).data(pluginName,{idx:index});});};}(jQuery,window,document));