
(function($,window,document,undefined){var pluginName='jquery-linear-navigation';$.fn.linearNavigation=function linearNavigation(itemsSelector,options){options=$.extend({activeIndex:0,clickable:true,clickDelegate:this,axis:'both',wrap:true},options);return this.each(function onEachMatchedEl(){var $this=$(this);var $collection=$this.find(itemsSelector);var numItems=$collection.length;if($.data(this,pluginName)===undefined){var $clickDelegate=$(options.clickDelegate);var currentItemIndex=options.activeIndex;var updateModel=function(goToIndex){$this.trigger("linearNavigationChange",{fromIndex:currentItemIndex,toIndex:goToIndex});currentItemIndex=goToIndex;};var goToNextItem=function(e){var isOnLastEl=(currentItemIndex===jQuery.data(e.delegateTarget,pluginName).length-1);var goToIndex=currentItemIndex;if(isOnLastEl){if(options.wrap===true){goToIndex=0;}}else{goToIndex=currentItemIndex+1;}
updateModel(goToIndex);};var goToPrevItem=function(e){var isOnFirstEl=(currentItemIndex===0||currentItemIndex===-1);var goToIndex=currentItemIndex;if(isOnFirstEl){if(options.wrap===true){goToIndex=jQuery.data(e.delegateTarget,pluginName).length-1;}}else{goToIndex=currentItemIndex-1;}
updateModel(goToIndex);};if(currentItemIndex>=numItems){currentItemIndex=0;}
$this.commonKeyDown();if(options.axis==='x'){$this.on('leftArrowKeyDown',goToPrevItem);$this.on('rightArrowKeyDown',goToNextItem);}else if(options.axis==='y'){$this.on('upArrowKeyDown',goToPrevItem);$this.on('downArrowKeyDown',goToNextItem);}else{$this.on('leftArrowKeyDown upArrowKeyDown',goToPrevItem);$this.on('rightArrowKeyDown downArrowKeyDown',goToNextItem);}
$clickDelegate.on('click',itemsSelector,function(e){updateModel($(this).data(pluginName).idx);});jQuery.data(this,pluginName,{installed:'true',length:numItems});}else{jQuery.data(this,pluginName).length=numItems;}
$collection.each(function onEachMatchedEl(index){$(this).data(pluginName,{idx:index});});});};}(jQuery,window,document));